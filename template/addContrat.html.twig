{% extends "layout.html.twig" %}

{% block title %}
    Page ajouter Contrat
{% endblock %}

{% block content %}
<div class="bg-light rounded px-3 py-3">
  <div class="container">
    <h1>Ajouter un Contrat</h1>
  </div>
</div>
<div class="container mb-5">
  <div class="alert alert-{{ form['state'] }}" role="alert">
    {{ form['message'] }}
  </div>
  
  <form action="index.php?page=addContrat" method="POST">
    <div class="mb-3">
      <label for="DateSignature" class="form-label">Date de Signature</label>
      <input type="date" class="form-control" id="DateSignature" name="DateSignature" value="">
    </div>
    <div class="mb-3">
      <label for="CoutGlobal" class="form-label">Cout Global</label>
      <input type="number" class="form-control" id="CoutGlobal" name="CoutGlobal" step="0.01">
    </div>
    <div class="mb-3">
      <label for="DateDebut" class="form-label">Date de Début</label>
      <input type="date" class="form-control" id="DateDebut" name="DateDebut" value="">
    </div>
    <div class="mb-3">
        <label for="DateFin" class="form-label">Date de Fin</label>
        <input type="date" class="form-control" id="DateFin" name="DateFin" value="">
    </div>
    <div class="mb-3">
        <label for="Contact" class="form-label">Choisir un Contact :</label>
        <div>
            <select class="form-select" name="Contact" size="1">                    
                {% for contact in contacts %}
                    <option value={{ contact.IDPersonne }}>{{ contact.Nom }}</option>
                {% endfor %}
            </select>
        </div>
        <span>Si le contact n'est pas présent dans la liste, veuillez l'ajouter avec le lien <a href="?page=addContact">Ajouter un contact</a></span>
    </div>
    <div class="mb-3">
        <label for="Entreprise" class="form-label">Choisir une entreprise :</label>
        <div>
            <select class="form-select" name="Entreprise" size="1">                    
                {% for entreprise in entreprises %}
                    <option value={{ entreprise.IDEntre }}>{{ entreprise.Nom }}</option>
                {% endfor %}
            </select>
        </div>
        <span>Si l'entreprise que vous cherchez n'est pas présente dans la liste, veuillez l'ajouter avec le lien <a href="?page=addEntreprise">Ajouter une entreprise</a></span>
    </div>
    <button type="submit" class="btn btn-primary" name="btnAddContrat">Ajouter un Contrat</button>
  </form>
</div>
{% endblock %}